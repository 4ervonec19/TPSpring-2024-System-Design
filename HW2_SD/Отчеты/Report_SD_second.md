Архитектурные диаграммы функциональных требований по разделам игровой платформы Steam с использованием нотации С4
=====================================================================================

### Команда: <2M / 2A> 
### Студент: Червоников Алексей
### Группа: ML-12

# Summary

Данный докумет объясняет работу функциональностей стим (жёлтые карточки) в разделах Steam (синие карточки). Рассматриваются карточки "комментарии к профилю" и новая функциональность "рейтинг аккаунта". Фичи декомпозированы по уровням С1 (системы) - С2 (контейнеры) - С3 (компоненты). Также добавлены расширения к старой функциональности, о которых будет рассказано в соответсвующем разделе.

# Рейтинг профиля Steam

## 1.1. Бизнес задача

В данном разделе мы проектируем систему рейтинг профиля Steam. В рамках нашей функциональности выполняются базовые функциональные требования такие, оценить профиль по 5-ти звёздочной шкале, предупреждение игрокам с низким рейтингом, удалять комментарии. Подобная фича позволяет смотреть на уровень "токсичности", "подлости" или, наоборот, "честности" игрока. Так, например, если игрок себя плохо ведёт в играх, душнит, токсичит, издевается, то можно поставить ему низкую оценку. Последующие игроки увидят эту оценку в лобби и выйдут в главное меню в случае токсичного игрока. Разрабатываем эту фичу для пользователей-игроков Steam, что позволяет по-новому посмотреть на fair-play и обработать внутренние порядки игровых сообществ.

## 1.2.	Архитектура решения

Уровень С1 содержит описание взаимодействия Пользователя с профилем игрока. Включим в С1 систему авторизации (внешняя), уведомления пользователя (внешняя, уведомляет низкорейтинговых игроков), система рейтинга профиля, которая будет реализовывать бизнес-логику нашей фичи.

<figure>
  <img
  src="2024-04-15_19-36-33.png"
  alt="The beautiful MDN logo.">
  <figcaption>Рисунок 1 - С1 диаграмма для Рейтинга профиля</figcaption>
</figure>

#
Уровень С2 декомпозирует систему рейтинга профиля. Так, запрос пользователя через WEB или Мобильное приложение переводит запрос пользователя на балансировщик, регулируемый Service Discovery, который обрабатывает запросы микросервисов о состоянии работы. Через внешний сервис и API пользователь авторизуется и получает доступ к оценке профиля другого юзера. Данную логику обрабатывает микросервис оценки профилей, который изменяет поля оценки в соответствующей БД и получает от нее ответ. В свою очередь сущность отслеживания рейтинга выполняет периодические запросы в БД и фильтруерт id с уровнем, например, однозвёздочных оценок по определенному threshold'у. В итоге, через API и балансировщик происходит связка с внешней системой, предупреждающей пользователя

#
 <img
  src="2024-04-15_19-46-06.png"
  alt="Рисунок 2 – Входной блок диаграммы С2">
  <figcaption>Рисунок 2 – Входной блок диаграммы С2 для рейтинга профиля</figcaption>
</figure>

#
 <img
  src="2024-04-15_19-47-44.png"
  alt="Рисунок 2 – Входной блок диаграммы С2">
  <figcaption>Рисунок 3 – блок бизнес-логики в диаграмме С2</figcaption>
</figure>


#
Уровень С3 рассматривает декомпозицию микросервиса отслеживания рейтинга. Внутри реализуется обращение к БД оценок, которая предоставляет данные о профилях. CommentService передаёт логику RatingMonitorService'у, после чего идёт передача сигнала через API компоненту на внешний для С3 API сервис. Также реализована компонента связи с ServiceDiscovery.

#
 <img
  src="2024-04-15_19-54-46.png"
  alt="">
  <figcaption>Рисунок 4 – Диаграмма С3 для сервиса отслеживания рейтингов</figcaption>
</figure>


## 1.3. Сложности и недочёты

На мой взгляд, проблемы решения могут заключаться в следующих особенностях:
1)	Вероятно, стоит распараллелить нагрузку на общую БД юзеров и оценок, которая у меня функционирует на два лагеря: для обработки рейтингов и записи/чтения.
2)	Смущает запуск работы через внешний сервис авторизации, возможно, его надо перестроить или вообще убрать.


## 1.4. Sequence диаграммы

#
 <img
  src="2024-04-15_19-58-34.png"
  alt="">
  <figcaption>Рисунок 5 – Sequence-диаграмма</figcaption>
</figure>

# 

#	Minimum Viable Product
В принципе, можно выделить следующие этапы:
1)	Продукт «Рейтинг профиля» нужен, чтобы фильтровать недобросовесных и токсичных игроков по мнению игрового сообщества. Это приведёт к более комфортному геймингу у пользователей.
2)	Целевая аудитория – пользователи Steam.
3)	Высокий приоритет будет у фичи выставления и отображения оценки. В последнюю очередь будем реализовывать логику передачи предупреждения и штрафа "плохому" юзеру.
4) Спроектировать систему. Например, по С4
5) Разработка
6) Тестирование
